(function(t){function e(e){for(var n,i,r=e[0],l=e[1],c=e[2],u=0,h=[];u<r.length;u++)i=r[u],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&h.push(s[i][0]),s[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);d&&d(e);while(h.length)h.shift()();return a.push.apply(a,c||[]),o()}function o(){for(var t,e=0;e<a.length;e++){for(var o=a[e],n=!0,r=1;r<o.length;r++){var l=o[r];0!==s[l]&&(n=!1)}n&&(a.splice(e--,1),t=i(i.s=o[0]))}return t}var n={},s={friend:0},a=[];function i(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=n,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;a.push([5,"chunk-vendors","chunk-common"]),o()})({"0ea2":function(t,e,o){"use strict";o.r(e);var n=o("2b0e"),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"v"}},[o("v-header",{attrs:{location:"/friend"},on:{logged:t.logged}}),o("div",[o("keep-alive",[o(t.active,{tag:"component"})],1),o("aside",[o("ul",t._l(t.tabs,(function(e){return o("li",[o("input",{attrs:{type:"button",value:e.name},on:{click:function(o){t.active=e.tag}}})])})),0)])],1),o("v-footer")],1)},a=[],i=o("71c2"),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("main",[o("h2",[t._v(t._s(t.title))]),t.email?o("div",[o("div",[o("span",[t._v("Email:")]),o("span",[t._v(t._s(t.email))])]),o("div",[o("span",[t._v("Joined:")]),o("v-time",{attrs:{time__:t.joined}})],1),o("div",[o("span",[t._v("Last Active:")]),o("v-time",{attrs:{time__:t.lastModified}})],1)]):t._e()])},l=[],c=o("1157"),d=o.n(c),u=o("c36d"),h={name:"v-profile",components:{VTime:u["a"]},data:function(){return{title:void 0,email:void 0,joined:void 0,lastModified:void 0}},mounted:function(){let t=location.toString().match(/.*\?friend=(\d+)#?$/);null!==t?d.a.ajax({method:"GET",url:syt.backend+"/friend-profile",xhrFields:{withCredentials:!0},data:{friend:t[1]},dataType:"json",success:t=>{404===t?this.error():(this.title=t.username,this.email=t.email,this.joined=t.joined,this.lastModified=t.lastModified)}}):this.error()},methods:{error(){this.title="404 Not Found"}},watch:{title(){document.title=this.title}}},f=h,v=(o("de01"),o("2877")),p=Object(v["a"])(f,r,l,!1,null,"b6dcca46",null),m=p.exports,g=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("main",[o("h2",[t._v(t._s(t.title))]),void 0!==t.currentPhotos?o("v-result",{attrs:{photos:t.currentPhotos}},[t._v("No photos")]):t._e(),void 0!==t.allPhotos?o("v-pages",{attrs:{photos:t.allPhotos},on:{"fetch-photos":t.fetchPhotos}}):t._e()],1)},_=[],b=o("f569"),P=o("5e23"),y={name:"v-photos",components:{VResult:b["a"],VPages:P["a"]},data:function(){return{title:void 0,allPhotos:void 0,currentPhotos:void 0}},mounted:function(){let t=location.toString().match(/.*\?friend=(\d+)#?$/);null!==t&&d.a.ajax({method:"GET",url:syt.backend+"/friend-photos",xhrFields:{withCredentials:!0},data:{friend:t[1]},dataType:"json",success:t=>{404===t?this.title="404 Not Found":(this.title=t[0]+"'s photos",this.allPhotos=t[1])}})},methods:{fetchPhotos(t){this.currentPhotos=t}}},j=y,x=Object(v["a"])(j,g,_,!1,null,"6cf7dae8",null),w=x.exports,O=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("main",[o("h2",[t._v(t._s(t.title))]),t.rejected?o("p",[t._v("They have set up their favourite photos to be invisible to others.")]):[void 0!==t.currentPhotos?o("v-result",{attrs:{photos:t.currentPhotos}},[t._v("No photos")]):t._e(),void 0!==t.allPhotos?o("v-pages",{attrs:{photos:t.allPhotos},on:{"fetch-photos":t.fetchPhotos}}):t._e()]],2)},T=[],S={name:"v-favourites",components:{VResult:b["a"],VPages:P["a"]},data:function(){return{title:void 0,rejected:!1,allPhotos:void 0,currentPhotos:void 0}},mounted:function(){let t=location.toString().match(/.*\?friend=(\d+)#?$/);null!==t&&d.a.ajax({method:"GET",url:syt.backend+"/friend-favourites",xhrFields:{withCredentials:!0},data:{friend:t[1]},dataType:"json",success:t=>{404===t?this.title="404 Not Found":(this.title=t[0]+"'s favourites","rejected"===t[1]?this.rejected=!0:this.allPhotos=t[1])}})},methods:{fetchPhotos(t){this.currentPhotos=t}}},V=S,k=Object(v["a"])(V,O,T,!1,null,"202a15c9",null),F=k.exports,$=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("main",[o("h2",[t._v(t._s(t.title))]),o("div",{staticClass:"record"},t._l(t.chats,(function(t){return o("article",[o("v-description",{class:{self:t.self},attrs:{description:t.message}}),o("v-time",{class:{self:t.self},attrs:{time__:t.sent}})],1)})),0),o("form",{attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.send(e)}}},[o("label",[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],attrs:{required:""},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}})]),o("div",[o("input",{attrs:{type:"button",value:"Refresh"},on:{click:t.refresh}}),o("input",{staticClass:"action",attrs:{type:"submit",value:"Send"}})])])])},C=[],E=o("2ef0"),M=o.n(E),N=o("6868"),G={name:"v-chats",components:{VTime:u["a"],VDescription:N["a"]},data:function(){return{title:void 0,chats:void 0,message:""}},mounted:function(){this.refresh()},methods:{refresh(){let t=location.toString().match(/.*\?friend=(\d+)#?$/);null!==t&&d.a.ajax({method:"POST",url:syt.backend+"/chat-history",xhrFields:{withCredentials:!0},data:{friend:t[1]},dataType:"json",success:t=>{404===t?this.title="404 Not Found":(this.title="Chat with "+t[0],this.chats=t[1])}})},send(){let t=location.toString().match(/.*\?friend=(\d+)#?$/);null!==t&&d.a.ajax({method:"POST",url:syt.backend+"/chat-send",xhrFields:{withCredentials:!0},data:{friend:t[1],message:this.message},dataType:"json",success:t=>{M.a.isNumber(t)&&(this.chats=M.a.concat(this.chats,{self:!0,message:this.message,sent:t}),this.message="")}})}}},J=G,R=(o("d9c3"),Object(v["a"])(J,$,C,!1,null,"484c52ee",null)),D=R.exports,q=o("076e"),A={name:"v",components:{VHeader:i["a"],VProfile:m,VPhotos:w,VFavourites:F,VChats:D,VFooter:q["a"]},data:function(){return{active:"v-profile",tabs:[{tag:"v-profile",name:"profile"},{tag:"v-photos",name:"photos"},{tag:"v-favourites",name:"favourites"},{tag:"v-chats",name:"chats"}]}},methods:{logged(){syt.logged||(window.location="/login")}}},H=A,L=(o("7ff1"),Object(v["a"])(H,s,a,!1,null,"17d83f8c",null)),z=L.exports;n["a"].config.productionTip=!1,new n["a"]({render:t=>t(z)}).$mount("#v")},"32d9":function(t,e,o){},5:function(t,e,o){t.exports=o("0ea2")},"7ff1":function(t,e,o){"use strict";var n=o("32d9"),s=o.n(n);s.a},"9f89":function(t,e,o){},c4a5:function(t,e,o){},d9c3:function(t,e,o){"use strict";var n=o("9f89"),s=o.n(n);s.a},de01:function(t,e,o){"use strict";var n=o("c4a5"),s=o.n(n);s.a}});
//# sourceMappingURL=friend.1519a85f.js.map